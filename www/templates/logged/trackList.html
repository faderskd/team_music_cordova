<ion-view view-title="Track list">

    <!--- List header --->
    <ion-header-bar class="bar-positive">
        <!--- Menu button --->
        <div class="buttons">
            <button class="button button-icon button-clear ion-navicon" menu-toggle="left">
            </button>
        </div>

        <div class="buttons">
            <!--- Show delete button --->
            <button class="button button-icon icon ion-ios-minus-outline"
                    ng-click="showDelete = !showDelete; showReorder = false"></button>

            <!--- Add track button --->
            <button class="button button-icon icon ion-ios-plus-outline"
                    ui-sref="logged.create-track"></button>
        </div>
        <h1 class="title">Track list</h1>

    </ion-header-bar>

    <ion-header-bar class="bar bar-subheader item-input-inset">
        <label class="item-input-wrapper textbox-search">
            <i class="icon ion-android-search placeholder-icon"></i>
            <input type="search" placeholder="Search" ng-model="searchTitle" ng-change="searchTracks(searchTitle)"
                   ng-model-options="{debounce:500}">
        </label>
    </ion-header-bar>

    <ion-content class="has-footer">

        <ion-list can-swipe="true" show-delete="showDelete">

            <ion-item class="item item-thumbnail-left" ng-repeat="track in tracks">
                <img ng-src="{{track.image_url}}">


                <h2>{{track.title}}</h2>

                <ion-audio-track track="track">
                    <ion-audio-controls>
                        <a class="button button-icon icon" ion-audio-play></a>
                        <ion-spinner style="position: relative;top:8px;"></ion-spinner>
                    </ion-audio-controls>
                </ion-audio-track>
                <ion-option-button ng-if="isTrackOwner(track)" class="button-balanced"
                                   ui-sref="logged.edit-track({trackId: {{track.id}} })">
                    Edit
                </ion-option-button>
                <ion-delete-button ng-if="isTrackOwner(track)" class="ion-minus-circled"
                                   ng-click="deleteTrack(track)">
                </ion-delete-button>
            </ion-item>

        </ion-list>

    </ion-content>
    <ion-footer-bar align-title="left" class="bar bar-positive">
        <ion-audio-progress-bar track="tracks[0]" display-time></ion-audio-progress-bar>
    </ion-footer-bar>
</ion-view>